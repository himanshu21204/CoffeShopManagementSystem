@model DashboardModel
@{
	ViewData["Title"] = "Home Page";
}


<div class="pagetitle">
	<h1>Dashboard</h1>
</div><!-- End Page Title -->

<section class="section dashboard">
	<div class="row">

		<!-- Left side columns -->
		<div class="col-lg-12">
			<div class="row">
				<!-- Customers Card -->
				<div class="col-xxl-3 col-sm-6">

					<div class="card info-card customers-card">

						@* <div class="filter"> *@
						@* 	<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a> *@
						@* 	<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow"> *@
						@* 		<li class="dropdown-header text-start"> *@
						@* 			<h6>Filter</h6> *@
						@* 		</li> *@

						@* 		<li><a class="dropdown-item" >Today</a></li> *@
						@* 		<li><a class="dropdown-item" >This Month</a></li> *@
						@* 		<li><a class="dropdown-item" >This Year</a></li> *@
						@* 	</ul> *@
						@* </div> *@

						<div class="card-body">
							<div class="d-flex justify-content-between align-items-center">
								<h5 class="card-title">Customers @* <span>| This Year</span> *@</h5>
								<a asp-controller="Customer" asp-action="CustomerList" class="btn btn-sm btn-flash-border-warning">View All</a>
							</div>


							<div class="d-flex align-items-center">
								<div class="card-icon rounded-circle d-flex align-items-center justify-content-center bg-light text-dark">
									<i class="bi bi-people"></i>
								</div>
								<div class="ps-3">
									<h6>@Model.Counts.FirstOrDefault(c => c.Metric == "TotalCustomers")?.Value</h6>
									@* <span class="text-danger small pt-1 fw-bold">12%</span> <span class="text-muted small pt-2 ps-1">decrease</span> *@
									<span className="text-sm text-gray-500 ml-2">Total Customers</span>

								</div>

							</div>
						</div>
					</div>

				</div><!-- End Customers Card -->
				<!-- Products Card -->
				<div class="col-xxl-3 col-sm-6">
					<div class="card info-card product-card">

						<div class="card-body">
							<div class="d-flex justify-content-between align-items-center">
								<h5 class="card-title">Products @* <span>| This Year</span> *@</h5>
								<a asp-controller="Product" asp-action="ProductList" class="btn btn-sm btn-flash-border-warning">View All</a>
							</div>

							<div class="d-flex align-items-center">
								<div class="card-icon rounded-circle d-flex align-items-center justify-content-center bg-light">
									<i class="bi bi-menu-button-wide"></i>
								</div>
								<div class="ps-3">
									<h6>@Model.Counts.FirstOrDefault(c => c.Metric == "TotalProducts")?.Value</h6>
									<span className="text-sm text-gray-500 ml-2">Total Products</span>

								</div>
							</div>
						</div>

					</div>
				</div><!-- End Revenue Card -->
				<!-- Orders Card -->
				<div class="col-xxl-3 col-sm-6">
					<div class="card info-card order-card">

						<div class="card-body">
							<div class="d-flex justify-content-between align-items-center">
								<h5 class="card-title">Orders @* <span>| This Year</span> *@</h5>
								<a asp-controller="Order" asp-action="OrderList" class="btn btn-sm btn-flash-border-warning">View All</a>
							</div>

							<div class="d-flex align-items-center">
								<div class="card-icon rounded-circle d-flex align-items-center justify-content-center bg-light">
									<i class="bi bi-menu-button-wide"></i>
								</div>
								<div class="ps-3">
									<h6>@Model.Counts.FirstOrDefault(c => c.Metric == "TotalOrders")?.Value</h6>
									<span className="text-sm text-gray-500 ml-2">Total Orders</span>

								</div>
							</div>
						</div>

					</div>
				</div><!-- End Revenue Card -->
				<!-- Bills Card -->
				<div class="col-xxl-3 col-sm-6">

					<div class="card info-card bills-card">

						<div class="card-body">
							<div class="d-flex justify-content-between align-items-center">
								<h5 class="card-title">Bills @* <span>| This Year</span> *@</h5>
								<a asp-controller="Bill" asp-action="BillList" class="btn btn-sm btn-flash-border-warning">View All</a>
							</div>

							<div class="d-flex align-items-center">
								<div class="card-icon rounded-circle d-flex align-items-center justify-content-center bg-light">
									<i class="fas fa-file-invoice" style="color: #212529;"></i>
								</div>
								<div class="ps-3">
									<h6>@Model.Counts.FirstOrDefault(c => c.Metric == "TotalBills")?.Value</h6>
									<span className="text-sm text-gray-500 ml-2">Total Bills</span>
								</div>
							</div>

						</div>
					</div>

				</div><!-- End Customers Card -->
				@* <!-- Recent Sales --> *@
				@*  <div class="col-12"> *@
				@*  	<div class="card recent-sales overflow-auto">  *@

				@*  		<div class="card-body"> *@
				@*  			<h5 class="card-title">Recent Sales <span>| Today</span></h5>  *@

				@*  			<table class="table table-borderless datatable">  *@
				@*  				<thead>  *@
				@*  					<tr>  *@
				@*  						<th scope="col">#</th>  *@
				@*  						<th scope="col">Customer</th>  *@
				@*  						<th scope="col">Product</th>  *@
				@*  						<th scope="col">Price</th>  *@
				@*  						<th scope="col">Status</th>  *@
				@*  					</tr>  *@
				@*  				</thead>  *@
				@*  				<tbody>  *@
				@*  					<tr>  *@
				@*  						<th scope="row"><a href="#">#2644</a></th>  *@
				@*  						<td>Angus Grady</td>  *@
				@*  						<td><a href="#" class="text-primar">Ut voluptatem id earum et</a></td>  *@
				@*  						<td>$67</td>  *@
				@*  						<td><span class="badge bg-danger">Rejected</span></td> *@
				@*  					</tr>  *@
				@*  				</tbody>  *@
				@*  			</table>  *@

				@*  		</div>  *@

				@*  	</div> *@
				@*  </div><!-- End Recent Sales -->  *@
				<!-- Recent Orders Selling -->
				<div class="row">
					<div class="col-xl-6 col-lg-12">
						<div class="card top-selling overflow-auto">

							@* <div class="filter"> *@
							@* 	<a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a> *@
							@* 	<ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow"> *@
							@* 		<li class="dropdown-header text-start"> *@
							@* 			<h6>Filter</h6> *@
							@* 		</li> *@

							@* 		<li><a class="dropdown-item" href="#">Today</a></li> *@
							@* 		<li><a class="dropdown-item" href="#">This Month</a></li> *@
							@* 		<li><a class="dropdown-item" href="#">This Year</a></li> *@
							@* 	</ul> *@
							@* </div> *@

							<div class="card-body pb-0">
								<div class="d-flex justify-content-between align-items-center">
									<h5 class="card-title">Recent 10 Orders @*<span>| Today</span>*@</h5>
									<a asp-controller="Order" asp-action="OrderList" class="btn btn-sm btn-flash-border-warning">View All</a>
								</div>
								<table class="table table-striped">
									<thead>
										<tr>
											<th scope="col">Order ID</th>
											<th scope="col">Order Number</th>
											<th scope="col">Customer Name</th>
											<th scope="col">Order Date</th>
											<th scope="col">Status</th>
										</tr>
									</thead>
									<tbody>
										@foreach (var order in Model.RecentOrders)
										{
											<tr>
												<td>@order.OrderID</td>
												<td>@order.OrderNumber</td>
												<td>@order.CustomerName</td>
												<td>@order.OrderDate.ToString("yyyy-MM-dd")</td>
												<td>
													<span class="@((order.Status == "Complete") ? "badge bg-success" : "badge bg-danger")">@order.Status</span>
												</td>
											</tr>
										}
									</tbody>
								</table>

							</div>

						</div>
					</div><!-- End Top Selling -->
					<div class="col-xl-6 col-lg-12">
						<div class="card top-selling overflow-auto">

							<div class="card-body pb-0">
								<div class="d-flex justify-content-between align-items-center">
									<h5 class="card-title">Recent 10 Products</h5>
									<a asp-controller="Product" asp-action="ProductList" class="btn btn-sm btn-flash-border-warning">View All</a>
								</div>
								<table class="table table-striped">
									<thead>
										<tr>
											<th scope="col">Product ID</th>
											<th scope="col">Product Name</th>
											<th scope="col">Category</th>
											<th scope="col">Added Date</th>
										</tr>
									</thead>
									<tbody>
										@foreach (var product in Model.RecentProducts)
										{
											<tr>
												<td>@product.ProductID</td>
												<td>@product.ProductName</td>
												<td>@product.Category</td>
												<td>
													@product.AddedDate.ToString("yyyy-MM-dd")
												</td>
											</tr>
										}
									</tbody>
								</table>

							</div>

						</div>
					</div><!-- End Top Selling -->
				</div>
				<div class="row">
					<div class="col-xl-6 col-lg-12">
						<div class="card top-selling overflow-auto">

							<div class="card-body pb-0">
								<div class="d-flex justify-content-between align-items-center">
									<h5 class="card-title">Top 10 Customers by Orders</h5>
									<a asp-controller="Customer" asp-action="CustomerList" class="btn btn-sm btn-flash-border-warning">View All</a>
								</div>
								<table class="table table-striped">
									<thead>
										<tr>
											<th scope="col">Customer Name</th>
											<th scope="col">Total Orders</th>
											<th scope="col">Email</th>
										</tr>
									</thead>
									<tbody>
										@foreach (var customer in Model.TopCustomers)
										{
											<tr>
												<td>@customer.CustomerName</td>
												<td>@customer.TotalOrders</td>
												<td>@customer.Email</td>
											</tr>
										}
									</tbody>
								</table>
							</div>
						</div>
					</div><!-- End Top Selling -->
					<div class="col-xl-6 col-lg-12">
						<div class="card top-selling overflow-auto">

							<div class="card-body pb-0">
								<div class="d-flex justify-content-between align-items-center">
									<h5 class="card-title">Top 10 Selling Products</h5>
									<a asp-controller="Product" asp-action="ProductList" class="btn btn-sm btn-flash-border-warning">View All</a>
								</div>
								<table class="table table-striped">
									<thead>
										<tr>
											<th scope="col">Product Name</th>
											<th scope="col">Sold Quantity</th>
											<th scope="col">Category</th>
										</tr>
									</thead>
									<tbody>
										@foreach (var product in Model.TopSellingProducts)
										{
											<tr>
												<td>@product.ProductName</td>
												<td>@product.TotalSoldQuantity</td>
												<td>@product.Category</td>
											</tr>
										}
									</tbody>
								</table>

							</div>

						</div>
					</div><!-- End Top Selling -->
				</div>
			</div>
		</div><!-- End Left side columns -->
	</div>
</section>